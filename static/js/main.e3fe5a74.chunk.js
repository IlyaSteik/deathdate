(window.webpackJsonpdeathdate=window.webpackJsonpdeathdate||[]).push([[0],{161:function(e,t,a){e.exports=a(250)},240:function(e,t,a){},250:function(e,t,a){"use strict";a.r(t);a(162),a(188),a(190),a(191),a(193),a(194),a(195),a(196),a(197),a(198),a(199),a(200),a(202),a(203),a(204),a(205),a(206),a(207),a(208),a(209),a(210),a(211),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(220),a(221),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(229),a(230);var n=a(0),r=a.n(n),s=a(81),o=a.n(s),i=a(13),c=a.n(i),l=a(12),u=a.n(l),p=a(24),m=a(82),d=a(83),h=a(94),v=a(84),f=a(27),b=a(95),g=(a(239),a(240),a(241),a(85)),k=a.n(g),x=a(11),y=a(92),w=a.n(y),E=a(93),S=a.n(E),j=Object(x.n)(),z=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={popout:null,activePanel:"form",time:"",screen:!1,scheme:"bright_light",paralel:!1},a.componentDidMount=a.componentDidMount.bind(Object(f.a)(a)),a.initializeApp=a.initializeApp.bind(Object(f.a)(a)),a.initializeTimer=a.initializeTimer.bind(Object(f.a)(a)),a.go=a.go.bind(Object(f.a)(a)),a.generateRandomTime=a.generateRandomTime.bind(Object(f.a)(a)),a.updateTime=a.updateTime.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.a.subscribe(function(){var e=Object(p.a)(u.a.mark((function e(a){var n,r,s,o,i,l,p,m,d,h,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.detail,r=n.type,s=n.data,void 0!==r&&console.log(r,s),"VKWebAppUpdateConfig"!==r){e.next=10;break}(o=document.createAttribute("scheme")).value="space_gray",document.body.attributes.setNamedItem(o),t.setState({scheme:o.value}),c.a.supports("VKWebAppSetViewSettings")&&c.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark",action_bar_color:"none"}),e.next=32;break;case 10:if("VKWebAppViewRestore"!==r){e.next=32;break}for(t.setState({popout:null,screen:!1}),i=document.getElementsByClassName("bg_shape_container"),l=!0,p=!1,m=void 0,e.prev=16,d=i[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){v=h.value;try{console.log("delete",v),v.remove()}catch(u){console.error(u)}}e.next=24;break;case 20:e.prev=20,e.t0=e.catch(16),p=!0,m=e.t0;case 24:e.prev=24,e.prev=25,l||null==d.return||d.return();case 27:if(e.prev=27,!p){e.next=30;break}throw m;case 30:return e.finish(27);case 31:return e.finish(24);case 32:case"end":return e.stop()}}),e,null,[[16,20,24,32],[25,,27,31]])})));return function(t){return e.apply(this,arguments)}}()),this.initializeApp();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeApp",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,a,n,r,s,o,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.input_years={},e.prev=1,e.next=4,c.a.sendPromise("VKWebAppStorageGet",{keys:["date1","date2","reason1","reason2"]});case 4:for(t=(t=e.sent).keys,a={},e.prev=7,n=!0,r=!1,s=void 0,e.prev=11,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)l=i.value,a[l.key]=Number(l.value);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),r=!0,s=e.t0;case 19:e.prev=19,e.prev=20,n||null==o.return||o.return();case 22:if(e.prev=22,!r){e.next=25;break}throw s;case 25:return e.finish(22);case 26:return e.finish(19);case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(7),console.error("e3",e.t1);case 32:if(this.setState({data:a,sValues:t}),!1===a.date2){e.next=37;break}return e.next=36,this.initializeTimer();case 36:this.go("main");case 37:e.next=41;break;case 39:e.prev=39,e.t2=e.catch(1);case 41:c.a.send("VKWebAppInit");case 42:case"end":return e.stop()}}),e,this,[[1,39],[7,29],[11,15,19,27],[20,,22,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"initializeTimer",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["https://image.flaticon.com/icons/svg/2893/2893113.svg","https://image.flaticon.com/icons/svg/2893/2893195.svg","https://image.flaticon.com/icons/svg/2484/2484569.svg","https://image.flaticon.com/icons/svg/2484/2484597.svg"],setInterval((function(){try{var e=document.createElement("div");e.className="bg_shape_container";var n=document.createElement("img");n.className="bg_shape light_outline",n.src=t[a.random(0,t.length)],n.style.left=a.random(-15,90)+"vw",e.appendChild(n),document.getElementById("bg_shapes").appendChild(e);for(var r=0;r<5;r++)n.style.setProperty("--offset-x-"+r,a.random(-20,20)+"vw");setTimeout((function(){try{e.remove()}catch(t){}}),1e4)}catch(s){}}),600),e.next=4,this.generateRandomTime(!1);case 4:return e.sent,this.updateTime(),e.next=8,this.sleep(500);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generateRandomTime",value:function(){var e=Object(p.a)(u.a.mark((function e(t){var a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=["\u0433\u043e\u043b\u043e\u0434\u0430","\u0436\u0430\u0436\u0434\u044b","\u0434\u0438\u0435\u0442\u044b","\u043d\u0435\u0445\u0432\u0430\u0442\u043a\u0438 \u043a\u0438\u0441\u043b\u043e\u0440\u043e\u0434\u0430"],this.state.reason2){e.next=47;break}return e.next=4,new Date(Date.now()+this.random(36e5,31536e8)).getTime();case 4:if(n=e.sent,r=this.state.data,void 0!==this.state.sValues&&0!=r.date2){e.next=34;break}return e.next=9,this.setState({reason:a[s]});case 9:return e.next=11,this.setState({timeDate:n});case 11:if(s=this.random(0,a.length),!c.a.supports("VKWebAppStorageSet")){e.next=32;break}return e.prev=13,e.next=16,c.a.sendPromise("VKWebAppStorageSet",{key:"date1",value:n.toString()});case 16:return e.next=18,c.a.sendPromise("VKWebAppStorageSet",{key:"reason1",value:s.toString()});case 18:return console.log("data saved as standart"),e.next=21,new Date(Date.now()+this.random(36e5,31536e8)).getTime();case 21:return n=e.sent,e.next=24,c.a.sendPromise("VKWebAppStorageSet",{key:"date2",value:n.toString()});case 24:return e.next=26,c.a.sendPromise("VKWebAppStorageSet",{key:"reason2",value:s.toString()});case 26:console.log("data saved as paralel"),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(13),console.error("e2",e.t0);case 32:e.next=47;break;case 34:if(!t){e.next=42;break}return e.next=37,this.setState({reason2:a[r.reason2]});case 37:return e.next=39,this.setState({timeDate2:r.date2});case 39:console.log("data loaded as paralel"),e.next=47;break;case 42:return e.next=44,this.setState({reason:a[r.reason1]});case 44:return e.next=46,this.setState({timeDate:r.date1});case 46:console.log("data loaded as standart");case 47:return e.next=49,this.setState({paralel:t});case 49:return e.abrupt("return",!0);case 50:case"end":return e.stop()}}),e,this,[[13,29]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateTime",value:function(){var e=this;setInterval((function(){try{var t,a,n,r,s,o=(e.state.paralel?e.state.timeDate2:e.state.timeDate)-Date.now();t=Math.floor(o/31536e6),o-=31536e6,a=Math.floor(o/864e5)%365,o-=864e5,n=Math.floor(o/36e5)%24,o-=36e5,r=Math.floor(o/6e4)%60,o-=6e4,s=Math.floor(o/1e3)%60,o-=1e3;for(var i=[[t,"\u043b\u0435\u0442"],[a,"\u0434\u043d\u0435\u0439"],[n,"\u0447."],[r,"\u043c\u0438\u043d."],[s,"\u0441\u0435\u043a."]],c=[],l=0;l<i.length;l++)i[l][0]>0&&c.push(i[l][0]+" "+i[l][1]);e.setState({time:c.join(", ")})}catch(u){console.error(u)}}),500)}},{key:"go",value:function(e){this.setState({activePanel:e})}},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"random",value:function(e,t){return Math.floor(Math.random()*(t-e)+e)}},{key:"render",value:function(){var e=this;return r.a.createElement(x.m,{activePanel:this.state.activePanel,popout:this.state.popout},r.a.createElement(x.h,{id:"main",style:{height:"100vh",width:"100vw"}},r.a.createElement("div",{id:"bg_shapes"}),r.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80vw",textAlign:"center"}},r.a.createElement(x.l,{level:"1",weight:"semibold"},"\u041c\u043d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ",r.a.createElement("span",{style:{backgroundImage:"linear-gradient(to left, #fc6076 0%, #ff9a44 100%)",color:"white",lineHeight:"18px",padding:"4px 4px 8px 4px",display:"inline-block"}},"\u0436\u0438\u0442\u044c")),r.a.createElement(x.l,{level:"2",weight:"semibold",style:{marginTop:"12px"}},this.state.time),r.a.createElement(x.f,{weight:"semibold",style:{marginTop:"12px",color:"white",background:"linear-gradient(to right, #ed6ea0 0%, #ec8c69 100%)",padding:"4px",display:"inline-block"}},"\u042f \u0443\u043c\u0440\u0443 \u0438\u0437-\u0437\u0430 "+(this.state.paralel?this.state.reason2:this.state.reason)),r.a.createElement("br",null),r.a.createElement(x.b,{before:r.a.createElement(S.a,{width:20,height:20,style:{paddingRight:"4px"}}),size:"l",style:{marginTop:"12px",display:this.state.screen&&"none"},onClick:Object(p.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.send("VKWebAppAllowMessagesFromGroup",{group_id:197419756,key:"fsdgeruiogj"});case 3:return t.sent,t.next=6,e.generateRandomTime(!e.state.paralel);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.setState({snackbar:r.a.createElement(x.k,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})}},"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439")});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))},this.state.paralel?"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f":"\u041f\u0430\u0440\u0430\u043b\u0435\u043b\u044c\u043d\u0430\u044f \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u0430\u044f"),this.state.screen&&r.a.createElement(x.f,{weight:"bold",style:{position:"absolute",top:"80%",left:"50%",transform:"translate(-50%, -50%)",width:"80vw",textAlign:"center",marginTop:"10vh",color:"rgb(35, 35, 35)",background:"linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%)",padding:"4px",display:"inline-block"}},"\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0435\u0441\u043b\u0438 \u043d\u0435 \u0431\u043e\u0438\u0448\u044c\u0441\u044f \u0443\u0437\u043d\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u0434\u0430\u0442\u0443 \u0441\u043c\u0435\u0440\u0442\u0438!")),r.a.createElement(x.d,{vertical:"bottom",style:{marginBottom:j===x.a?"36px":"12px",display:this.state.screen&&"none"}},r.a.createElement(x.c,null,r.a.createElement(x.b,{onClick:Object(p.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({popout:r.a.createElement(x.i,null),screen:!0}),t.next=3,e.sleep(250);case 3:k()(document.getElementsByClassName("View__panels")[0]).then(function(){var t=Object(p.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.toDataURL("image/png"),t.prev=1,t.next=4,c.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:n,attachment:{url:"https://vk.com/app7549544",text:"open",type:"url"}});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:e.setState({popout:null,screen:!1});case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)}))),before:r.a.createElement(w.a,null),size:"xl",mode:"commerce"},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"))),this.state.snackbar),r.a.createElement(x.h,{id:"form"},r.a.createElement(x.e,null,r.a.createElement(x.g,{top:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0412\u0430\u043c \u043b\u0435\u0442?",type:"number",getRootRef:function(t){e.input_years=t}}),r.a.createElement(x.j,{top:"\u041a\u0430\u043a\u043e\u0439 \u0412\u0430\u0448 \u043f\u043e\u043b?",defaultValue:"m"},r.a.createElement("option",{value:"m"},"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"),r.a.createElement("option",{value:"f"},"\u0416\u0435\u043d\u0441\u043a\u0438\u0439")),r.a.createElement(x.j,{top:"\u041a\u0442\u043e \u0412\u044b \u043f\u043e \u0437\u043d\u0430\u043a\u0443 \u0437\u043e\u0434\u0438\u0430\u043a\u0430?",defaultValue:"znak1"},r.a.createElement("option",{value:"znak1"},"\u041e\u0432\u0435\u043d"),r.a.createElement("option",{value:"znak2"},"\u0422\u0435\u043b\u0435\u0446"),r.a.createElement("option",{value:"znak3"},"\u0411\u043b\u0438\u0437\u043d\u0435\u0446\u044b"),r.a.createElement("option",{value:"znak4"},"\u0420\u0430\u043a"),r.a.createElement("option",{value:"znak5"},"\u041b\u0435\u0432"),r.a.createElement("option",{value:"znak6"},"\u0414\u0435\u0432\u0430"),r.a.createElement("option",{value:"znak7"},"\u0412\u0435\u0441\u044b"),r.a.createElement("option",{value:"znak8"},"\u0421\u043a\u043e\u0440\u043f\u0438\u043e\u043d"),r.a.createElement("option",{value:"znak9"},"\u0417\u043c\u0435\u0435\u043d\u043e\u0441\u0435\u0446"),r.a.createElement("option",{value:"znak10"},"\u0421\u0442\u0440\u0435\u043b\u0435\u0446"),r.a.createElement("option",{value:"znak11"},"\u041a\u043e\u0437\u0435\u0440\u043e\u0433"),r.a.createElement("option",{value:"znak12"},"\u0412\u043e\u0434\u043e\u043b\u0435\u0439"),r.a.createElement("option",{value:"znak13"},"\u0420\u044b\u0431\u044b")),r.a.createElement(x.j,{top:"\u0412\u0430\u0441 \u043f\u043e\u0441\u0435\u0449\u0430\u043b\u0438 \u043c\u044b\u0441\u043b\u0438 \u043e \u0441\u0443\u0438\u0446\u0438\u0434\u0435?",defaultValue:"nn"},r.a.createElement("option",{value:"nn"},"\u041d\u0435\u0442"),r.a.createElement("option",{value:"yy"},"\u0414\u0430")),r.a.createElement(x.b,{disabled:function(){try{return void 0===e.input_years.value}catch(t){return!0}},size:"xl",onClick:Object(p.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({popout:r.a.createElement(x.i,null)}),t.next=3,e.initializeTimer();case 3:e.setState({popout:null}),e.go("main");case 5:case"end":return t.stop()}}),t)})))},"\u0423\u0437\u043d\u0430\u0442\u044c \u0434\u0430\u0442\u0443 \u0441\u043c\u0435\u0440\u0442\u0438"))))}}]),t}(r.a.Component);o.a.render(r.a.createElement(z,{className:""}),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.e3fe5a74.chunk.js.map