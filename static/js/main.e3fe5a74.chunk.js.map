{"version":3,"sources":["App.js","index.js"],"names":["os","platform","App","props","state","popout","activePanel","time","screen","scheme","paralel","componentDidMount","bind","initializeApp","initializeTimer","go","generateRandomTime","updateTime","bridge","subscribe","a","detail","type","data","undefined","console","log","schemeAttribute","document","createAttribute","value","body","attributes","setNamedItem","setState","supports","send","status_bar_style","action_bar_color","shapes","getElementsByClassName","element","remove","e","error","this","input_years","sendPromise","keys","sValues","key","Number","date2","imgs","setInterval","shape_container","createElement","className","shape","src","random","length","style","left","appendChild","getElementById","i","setProperty","setTimeout","sleep","isParalel","reasons","reason2","Date","now","getTime","timeDate","reason","rId","toString","timeDate2","reason1","date1","years","days","hours","minutes","seconds","timeMs","Math","floor","yMs","dMs","hMs","minMs","times","timesText","push","join","panel","ms","Promise","resolve","min","max","id","height","width","position","top","transform","textAlign","level","weight","backgroundImage","color","lineHeight","padding","display","marginTop","background","before","paddingRight","size","onClick","group_id","snackbar","layout","onClose","vertical","marginBottom","ANDROID","html2canvas","then","canvas","blob","toDataURL","background_type","attachment","url","text","mode","getRootRef","ref","defaultValue","disabled","React","Component","ReactDOM","render"],"mappings":"wpBAgBGA,EAAKC,cAuROC,E,YAnRd,WAAYC,GAAQ,IAAD,8BAClB,4CAAMA,KAEDC,MAAQ,CACZC,OAAQ,KACRC,YAAa,OACbC,KAAM,GACNC,QAAQ,EACRC,OAAQ,eACRC,SAAS,GAGV,EAAKC,kBAAoB,EAAKA,kBAAkBC,KAAvB,gBACzB,EAAKC,cAAgB,EAAKA,cAAcD,KAAnB,gBACrB,EAAKE,gBAAkB,EAAKA,gBAAgBF,KAArB,gBACvB,EAAKG,GAAK,EAAKA,GAAGH,KAAR,gBACV,EAAKI,mBAAqB,EAAKA,mBAAmBJ,KAAxB,gBAC1B,EAAKK,WAAa,EAAKA,WAAWL,KAAhB,gBAjBA,E,sMAsBlBM,IAAOC,UAAP,uCAAiB,iDAAAC,EAAA,6DAASC,OAAUC,EAAnB,EAAmBA,KAAMC,EAAzB,EAAyBA,UAC7BC,IAATF,GAAoBG,QAAQC,IAAIJ,EAAMC,GAC5B,yBAATD,EAFY,kBAGTK,EAAkBC,SAASC,gBAAgB,WACjCC,MAA6D,aAC7EF,SAASG,KAAKC,WAAWC,aAAaN,GACtC,EAAKO,SAAS,CAAEzB,OAAQkB,EAAgBG,QACrCZ,IAAOiB,SAAS,4BAClBjB,IAAOkB,KAAK,0BAA2B,CAACC,iBAAkB,OAAQC,iBAAkB,SARtE,2BAUG,wBAAThB,EAVM,iBAaf,IAFA,EAAKY,SAAS,CAAE7B,OAAQ,KAAMG,QAAQ,IAClC+B,EAASX,SAASY,uBAAuB,sBAZ9B,6BAaX,EAAeD,EAAnB,+CAA0B,CAAlBE,EAAkB,QACzB,IACChB,QAAQC,IAAI,SAAUe,GACtBA,EAAQC,SACR,MAAOC,GACPlB,QAAQmB,MAAMD,IAlBD,+SAAjB,uDAwBAE,KAAKhC,gB,iRAILgC,KAAKC,YAAc,G,kBAEE5B,IAAO6B,YAAY,qBAAsB,CAACC,KAAM,CAAC,QAAS,QAAS,UAAW,a,OAIjG,IAHDC,GADIA,E,QACcD,KACdzB,EAAO,G,sCAEN,EAAa0B,EAAjB,+CAAQnB,EAAiB,QACxBP,EAAKO,EAAMoB,KAAOC,OAAOrB,EAAMA,O,4RAGhCL,QAAQmB,MAAM,KAAd,M,WAEDC,KAAKX,SAAS,CAAEX,OAAM0B,aAEJ,IAAf1B,EAAK6B,M,kCACDP,KAAK/B,kB,QACX+B,KAAK9B,GAAG,Q,kEAIJG,IAAOkB,KAAK,gB,uTAIdiB,EAAO,CAAC,wDACX,wDACA,wDACA,yDACgBC,aAAY,WAC5B,IACC,IAAIC,EAAkB3B,SAAS4B,cAAc,OAC7CD,EAAgBE,UAAY,qBAC5B,IAAIC,EAAQ9B,SAAS4B,cAAc,OACnCE,EAAMD,UAAY,yBAClBC,EAAMC,IAAMN,EAAK,EAAKO,OAAO,EAAGP,EAAKQ,SACrCH,EAAMI,MAAMC,KAAQ,EAAKH,QAAQ,GAAI,IAAO,KAC5CL,EAAgBS,YAAYN,GAC5B9B,SAASqC,eAAe,aAAaD,YAAYT,GACjD,IAAI,IAAIW,EAAI,EAAGA,EAAI,EAAGA,IACrBR,EAAMI,MAAMK,YAAY,cAAgBD,EAAG,EAAKN,QAAQ,GAAI,IAAK,MAElEQ,YAAW,WACV,IACCb,EAAgBb,SAChB,MAAOC,OACN,KACH,MAAOA,OACN,K,SACmBE,KAAK7B,oBAAmB,G,qBAC9C6B,KAAK5B,a,SACC4B,KAAKwB,MAAM,K,iCACV,G,wLAGiBC,G,gFACpBC,EAAU,CAAC,uCAAU,iCAAS,iCAAS,2GACtC1B,KAAKzC,MAAMoE,Q,iCACM,IAAIC,KAAKA,KAAKC,MAAQ7B,KAAKe,OAAO,KAAoB,UAAkCe,U,UAAzGC,E,OACArD,EAAOsB,KAAKzC,MAAMmB,UACIC,IAAvBqB,KAAKzC,MAAM6C,SAAuC,GAAd1B,EAAK6B,M,iCACrCP,KAAKX,SAAS,CAAC2C,OAAQN,EAAQO,K,wBAC/BjC,KAAKX,SAAS,CAAC0C,a,WACjBE,EAAMjC,KAAKe,OAAO,EAAGW,EAAQV,SAC9B3C,IAAOiB,SAAS,sB,4CAEXjB,IAAO6B,YAAY,qBAAsB,CAACG,IAAK,QAASpB,MAAO8C,EAASG,a,yBACxE7D,IAAO6B,YAAY,qBAAsB,CAACG,IAAK,UAAWpB,MAAOgD,EAAIC,a,eAC3EtD,QAAQC,IAAI,0B,UAEK,IAAI+C,KAAKA,KAAKC,MAAQ7B,KAAKe,OAAO,KAAoB,UAAkCe,U,eAAzGC,E,iBACM1D,IAAO6B,YAAY,qBAAsB,CAACG,IAAK,QAASpB,MAAO8C,EAASG,a,yBACxE7D,IAAO6B,YAAY,qBAAsB,CAACG,IAAK,UAAWpB,MAAOgD,EAAIC,a,QAC3EtD,QAAQC,IAAI,yB,mDACDD,QAAQmB,MAAM,KAAd,M,oCAGT0B,E,kCACGzB,KAAKX,SAAS,CAACsC,QAASD,EAAQhD,EAAKiD,W,yBACrC3B,KAAKX,SAAS,CAAC8C,UAAWzD,EAAK6B,Q,QACrC3B,QAAQC,IAAI,0B,yCAENmB,KAAKX,SAAS,CAAC2C,OAAQN,EAAQhD,EAAK0D,W,yBACpCpC,KAAKX,SAAS,CAAC0C,SAAUrD,EAAK2D,Q,QACpCzD,QAAQC,IAAI,2B,yBAITmB,KAAKX,SAAS,CAACxB,QAAS4D,I,kCACvB,G,qJAEM,IAAD,OACZhB,aAAY,WACX,IACC,IAEI6B,EAAOC,EAAMC,EAAOC,EAASC,EAF7BC,GAAU,EAAKpF,MAAMM,QAAU,EAAKN,MAAM4E,UAAY,EAAK5E,MAAMwE,UAAYH,KAAKC,MAStFS,EAAQM,KAAKC,MAAMF,EANT,SAMwBA,GANxB,QAOVJ,EAAOK,KAAKC,MAAMF,EANXG,OAM2B,IAAKH,GANhCG,MAOPN,EAAQI,KAAKC,MAAMF,EANZI,MAM4B,GAAIJ,GANhCI,KAOPN,EAAUG,KAAKC,MAAMF,EANZK,KAM8B,GAAIL,GANlCK,IAOTN,EAAUE,KAAKC,MAAMF,EANdM,KAM8B,GAAIN,GANlCM,IAgBP,IARA,IAAIC,EAAQ,CAAE,CAAEZ,EAAO,sBACrB,CAAEC,EAAM,4BACR,CAAEC,EAAO,WACT,CAAEC,EAAS,uBACX,CAAEC,EAAS,wBAEZS,EAAY,GAEL9B,EAAI,EAAGA,EAAI6B,EAAMlC,OAAQK,IAC5B6B,EAAM7B,GAAG,GAAK,GAAG8B,EAAUC,KAAKF,EAAM7B,GAAG,GAAK,IAAM6B,EAAM7B,GAAG,IAGlE,EAAKhC,SAAS,CAAE3B,KAAMyF,EAAUE,KAAK,QACrC,MAAOvD,GACPlB,QAAQmB,MAAMD,MAEb,O,yBAGDwD,GACFtD,KAAKX,SAAS,CAAC5B,YAAa6F,M,4BAGvBC,GACL,OAAO,IAAIC,SAAQ,SAAAC,GAAO,OAAIlC,WAAWkC,EAASF,Q,6BAE5CG,EAAKC,GACX,OAAOf,KAAKC,MAAMD,KAAK7B,UAAY4C,EAAMD,GAAOA,K,+BAGvC,IAAD,OACR,OACC,kBAAC,IAAD,CAAMjG,YAAauC,KAAKzC,MAAME,YAAaD,OAAQwC,KAAKzC,MAAMC,QAC7D,kBAAC,IAAD,CAAOoG,GAAG,OAAO3C,MAAO,CAAE4C,OAAQ,QAASC,MAAO,UACjD,yBAAKF,GAAG,cACR,yBAAK3C,MAAO,CAAE8C,SAAU,WAAYC,IAAK,MAAO9C,KAAM,MAAO+C,UAAW,wBAAyBH,MAAO,OAAQI,UAAW,WAC1H,kBAAC,IAAD,CAAOC,MAAM,IAAIC,OAAO,YAAxB,uEAAgD,0BAAMnD,MAAO,CAAEoD,gBAAiB,qDAAsDC,MAAO,QAASC,WAAY,OAAQC,QAAS,kBAAmBC,QAAS,iBAA/J,6BAChD,kBAAC,IAAD,CAAON,MAAM,IAAIC,OAAO,WAAWnD,MAAO,CAAEyD,UAAW,SAAW1E,KAAKzC,MAAMG,MAC7E,kBAAC,IAAD,CAAU0G,OAAO,WAAWnD,MAAO,CAAEyD,UAAW,OAAQJ,MAAO,QAASK,WAAY,sDAAuDH,QAAS,MAAOC,QAAS,iBAAoB,8DAAoBzE,KAAKzC,MAAMM,QAAUmC,KAAKzC,MAAMoE,QAAS3B,KAAKzC,MAAMyE,SAAqB,6BACrR,kBAAC,IAAD,CAAQ4C,OAAQ,kBAAC,IAAD,CAA0Bd,MAAO,GAAID,OAAQ,GAAI5C,MAAO,CAAE4D,aAAc,SAAYC,KAAK,IAAI7D,MAAO,CAAEyD,UAAW,OAAQD,QAASzE,KAAKzC,MAAMI,QAAU,QAAUoH,QAAO,sBACvL,sBAAAxG,EAAA,+EAEmBF,IAAOkB,KAAK,iCAAkC,CAACyF,SAAU,UAAW3E,IAAK,gBAF5F,8BAGQ,EAAKlC,oBAAoB,EAAKZ,MAAMM,SAH5C,uDAKE,EAAKwB,SAAS,CAAE4F,SACd,kBAAC,IAAD,CACCC,OAAO,WACPC,QAAS,kBAAM,EAAK9F,SAAS,CAAE4F,SAAU,SAF1C,0PANJ,0DAcKjF,KAAKzC,MAAMM,QAAU,yDAAc,6HAGxCmC,KAAKzC,MAAMI,QACX,kBAAC,IAAD,CAAUyG,OAAO,OAAOnD,MAAO,CAAE8C,SAAU,WAAWC,IAAK,MAAO9C,KAAM,MAAO+C,UAAW,wBAAyBH,MAAO,OAAQI,UAAW,SAAUQ,UAAW,OAAQJ,MAAO,kBAAmBK,WAAY,oDAAqDH,QAAS,MAAOC,QAAS,iBAA9R,wUAGF,kBAAC,IAAD,CAAaW,SAAS,SAASnE,MAAO,CAAEoE,aAAclI,IAAOmI,IAAU,OAAS,OAAQb,QAASzE,KAAKzC,MAAMI,QAAU,SACrH,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAQoH,QAAO,sBAAE,sBAAAxG,EAAA,6DAChB,EAAKc,SAAS,CAAE7B,OAAQ,kBAAC,IAAD,MAAkBG,QAAQ,IADlC,SAEV,EAAK6D,MAAM,KAFD,OAGhB+D,IAAYxG,SAASY,uBAAuB,gBAAgB,IAAI6F,KAAhE,uCAAqE,WAAMC,GAAN,eAAAlH,EAAA,6DAChEmH,EAAOD,EAAOE,UAAU,aADwC,kBAG7DtH,IAAOkB,KAAK,uBAAwB,CAAEqG,gBAAiB,QAASF,OAAMG,WAAY,CAAEC,IAAK,4BAA6BC,KAAM,OAAQtH,KAAM,SAH7E,6DAKpE,EAAKY,SAAS,CAAE7B,OAAQ,KAAMG,QAAQ,IAL8B,wDAArE,uDAHgB,2CAUdiH,OAAQ,kBAAC,IAAD,MAAuBE,KAAK,KAAKkB,KAAK,YAVjD,oHAaDhG,KAAKzC,MAAM0H,UAEb,kBAAC,IAAD,CAAOrB,GAAG,QACT,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOI,IAAI,oFAAmBvF,KAAK,SAASwH,WAAY,SAACC,GAAQ,EAAKjG,YAAciG,KACpF,kBAAC,IAAD,CAAQlC,IAAI,wEAAiBmC,aAAa,KACzC,4BAAQlH,MAAM,KAAd,8CACA,4BAAQA,MAAM,KAAd,+CAED,kBAAC,IAAD,CAAQ+E,IAAI,0HAA2BmC,aAAa,SACnD,4BAAQlH,MAAM,SAAd,4BACA,4BAAQA,MAAM,SAAd,kCACA,4BAAQA,MAAM,SAAd,oDACA,4BAAQA,MAAM,SAAd,sBACA,4BAAQA,MAAM,SAAd,sBACA,4BAAQA,MAAM,SAAd,4BACA,4BAAQA,MAAM,SAAd,4BACA,4BAAQA,MAAM,SAAd,oDACA,4BAAQA,MAAM,SAAd,0DACA,4BAAQA,MAAM,UAAd,8CACA,4BAAQA,MAAM,UAAd,8CACA,4BAAQA,MAAM,UAAd,8CACA,4BAAQA,MAAM,UAAd,6BAED,kBAAC,IAAD,CAAQ+E,IAAI,wJAAgCmC,aAAa,MACxD,4BAAQlH,MAAM,MAAd,sBACA,4BAAQA,MAAM,MAAd,iBAED,kBAAC,IAAD,CAAQmH,SAAU,WAAO,IAAK,YAAkCzH,IAA3B,EAAKsB,YAAYhB,MAAqB,MAAMa,GAAI,OAAO,IAAWgF,KAAK,KAAKC,QAAO,sBAAE,sBAAAxG,EAAA,6DACzH,EAAKc,SAAS,CAAE7B,OAAQ,kBAAC,IAAD,QADiG,SAEnH,EAAKS,kBAF8G,OAGzH,EAAKoB,SAAS,CAAE7B,OAAQ,OACxB,EAAKU,GAAG,QAJiH,4CAA1H,6G,GAxQYmI,IAAMC,WCJxBC,IAASC,OAAO,kBAAC,EAAD,CAAK5F,UAAW,KAAQ7B,SAASqC,eAAe,W","file":"static/js/main.e3fe5a74.chunk.js","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\nimport eruda from 'eruda';\nimport html2canvas from 'html2canvas';\n\nimport { FormLayout, FormStatus, Snackbar, Select, Input, Div, Panel, Title, Headline, View, FixedLayout, Button, ScreenSpinner, platform, ANDROID } from '@vkontakte/vkui';\n\nimport Icon28StoryOutline from '@vkontakte/icons/dist/28/story_outline';\nimport Icon24ImageFilterOutline from '@vkontakte/icons/dist/24/image_filter_outline';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n}, redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n}, os = platform();\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tpopout: null,\n\t\t\tactivePanel: 'form',\n\t\t\ttime: '',\n\t\t\tscreen: false,\n\t\t\tscheme: 'bright_light',\n\t\t\tparalel: false,\n\t\t};\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.initializeTimer = this.initializeTimer.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t\tthis.generateRandomTime = this.generateRandomTime.bind(this);\n\t\tthis.updateTime = this.updateTime.bind(this);\n\t\t//eruda.init();\n\t}\n\n\tasync componentDidMount () {\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tif(type !== undefined) console.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = false ? data.scheme ? data.scheme : 'bright_light' : 'space_gray';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\tthis.setState({ scheme: schemeAttribute.value });\n\t\t\t\tif(bridge.supports('VKWebAppSetViewSettings')){\n\t\t\t\t\tbridge.send('VKWebAppSetViewSettings', {status_bar_style: 'dark', action_bar_color: 'none'});\n\t\t\t\t}\n\t\t\t}else if (type === 'VKWebAppViewRestore') {\n\t\t\t\tthis.setState({ popout: null, screen: false });\n\t\t\t\tlet shapes = document.getElementsByClassName('bg_shape_container');\n\t\t\t\tfor(let element of shapes){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tconsole.log('delete', element);\n\t\t\t\t\t\telement.remove();\n\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.initializeApp();\n\t}\n\n\tasync initializeApp() {\n\t\tthis.input_years = { };\n\t\ttry{\n\t\t\tlet sValues = await bridge.sendPromise('VKWebAppStorageGet', {keys: ['date1', 'date2', 'reason1', 'reason2']});\n\t\t\tsValues = sValues.keys;\n\t\t\tlet data = {};\n\t\t\ttry{\n\t\t\t\tfor(let value of sValues){\n\t\t\t\t\tdata[value.key] = Number(value.value);\n\t\t\t\t}\n\t\t\t}catch (e) {\n\t\t\t\tconsole.error('e3', e)\n\t\t\t}\n\t\t\tthis.setState({ data, sValues });\n\n\t\t\tif(data.date2 !== false){\n\t\t\t\tawait this.initializeTimer();\n\t\t\t\tthis.go('main');\n\t\t\t}\n\t\t}catch (e) {}\n\n        bridge.send('VKWebAppInit');\n\t}\n\n\tasync initializeTimer() {\n\t\tlet imgs = ['https://image.flaticon.com/icons/svg/2893/2893113.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2893/2893195.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2484/2484569.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2484/2484597.svg'];\n\t\tlet bgInterval = setInterval(()=>{\n\t\t\ttry{\n\t\t\t\tlet shape_container = document.createElement('div');\n\t\t\t\tshape_container.className = 'bg_shape_container';\n\t\t\t\tlet shape = document.createElement('img');\n\t\t\t\tshape.className = 'bg_shape light_outline';\n\t\t\t\tshape.src = imgs[this.random(0, imgs.length)];\n\t\t\t\tshape.style.left = (this.random(-15, 90)) + 'vw';\n\t\t\t\tshape_container.appendChild(shape);\n\t\t\t\tdocument.getElementById('bg_shapes').appendChild(shape_container);\n\t\t\t\tfor(let i = 0; i < 5; i++){\n\t\t\t\t\tshape.style.setProperty('--offset-x-' + i, this.random(-20, 20) +'vw');\n\t\t\t\t}\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\ttry{\n\t\t\t\t\t\tshape_container.remove();\n\t\t\t\t\t}catch (e) {}\n\t\t\t\t}, 10000);\n\t\t\t}catch (e) {}\n\t\t}, 600);\n\t\tlet generated = await this.generateRandomTime(false);\n\t\tthis.updateTime();\n\t\tawait this.sleep(500);\n\t\treturn true;\n\t}\n\n\tasync generateRandomTime(isParalel){\n\t\tlet reasons = ['голода', 'жажды', 'диеты', 'нехватки кислорода'];\n\t\tif (!this.state.reason2) {\n\t\t\tlet timeDate = await new Date(Date.now() + this.random(1 * 60 * 60 * 1000, 100 * 365 * 24 * 60 * 60 * 1000)).getTime();\n\t\t\tlet data = this.state.data;\n\t\t\tif(this.state.sValues === undefined || data.date2 == false) {\n\t\t\t\tawait this.setState({reason: reasons[rId]});\n\t\t\t\tawait this.setState({timeDate});\n\t\t\t\tlet rId = this.random(0, reasons.length);\n\t\t\t\tif(bridge.supports('VKWebAppStorageSet')) {\n\t\t\t\t\ttry{\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: 'date1', value: timeDate.toString()});\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: 'reason1', value: rId.toString()});\n\t\t\t\t\t\tconsole.log('data saved as standart');\n\n\t\t\t\t\t\ttimeDate = await new Date(Date.now() + this.random(1 * 60 * 60 * 1000, 100 * 365 * 24 * 60 * 60 * 1000)).getTime();\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: 'date2', value: timeDate.toString()});\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: 'reason2', value: rId.toString()});\n\t\t\t\t\t\tconsole.log('data saved as paralel');\n\t\t\t\t\t}catch (e) {console.error('e2',e);}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (isParalel) {\n\t\t\t\t\tawait this.setState({reason2: reasons[data.reason2]});\n\t\t\t\t\tawait this.setState({timeDate2: data.date2});\n\t\t\t\t\tconsole.log('data loaded as paralel');\n\t\t\t\t} else {\n\t\t\t\t\tawait this.setState({reason: reasons[data.reason1]});\n\t\t\t\t\tawait this.setState({timeDate: data.date1});\n\t\t\t\t\tconsole.log('data loaded as standart');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tawait this.setState({paralel: isParalel});\n\t\treturn true;\n\t}\n\tupdateTime() {\n\t\tsetInterval(()=>{\n\t\t\ttry{\n\t\t\t\tlet timeMs = (this.state.paralel ? this.state.timeDate2 : this.state.timeDate) - Date.now();\n\n\t\t\t\tlet years, days, hours, minutes, seconds;\n\t\t\t\tlet yMs = 1000 * 60 * 60 * 24 * 365,\n\t\t\t\t\tdMs = yMs / 365,\n\t\t\t\t\thMs = dMs / 24,\n\t\t\t\t\tminMs = hMs / 60,\n\t\t\t\t\tsMs = minMs / 60;\n\n\t\t\t\tyears = Math.floor(timeMs / yMs); timeMs -= yMs;\n\t\t\t\tdays = Math.floor(timeMs / dMs) % 365; timeMs -= dMs;\n\t\t\t\thours = Math.floor(timeMs / hMs) % 24; timeMs -= hMs;\n\t\t\t\tminutes = Math.floor(timeMs / minMs) % 60; timeMs -= minMs;\n\t\t\t\tseconds = Math.floor(timeMs / sMs) % 60; timeMs -= sMs;\n\n\t\t\t\tlet times = [ [ years, 'лет' ],\n\t\t\t\t\t\t[ days, 'дней' ],\n\t\t\t\t\t\t[ hours, 'ч.' ],\n\t\t\t\t\t\t[ minutes, 'мин.' ],\n\t\t\t\t\t\t[ seconds, 'сек.' ]],\n\n\t\t\t\t\ttimesText = [];\n\n\t\t\t\tfor(let i = 0; i < times.length; i++){\n\t\t\t\t\tif (times[i][0] > 0) timesText.push(times[i][0] + ' ' + times[i][1]);\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ time: timesText.join(', ') });\n\t\t\t}catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}, 500);\n\t}\n\n\tgo(panel) {\n\t\tthis.setState({activePanel: panel});\n\t}\n\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\trandom(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min) + min);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel} popout={this.state.popout}>\n\t\t\t\t<Panel id='main' style={{ height: '100vh', width: '100vw' }}>\n\t\t\t\t\t<div id='bg_shapes'/>\n\t\t\t\t\t<div style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', width: '80vw', textAlign: 'center' }}>\n\t\t\t\t\t\t<Title level='1' weight='semibold'>Мне осталось <span style={{ backgroundImage: 'linear-gradient(to left, #fc6076 0%, #ff9a44 100%)', color: 'white', lineHeight: '18px', padding: '4px 4px 8px 4px', display: 'inline-block' }}>жить</span></Title>\n\t\t\t\t\t\t<Title level='2' weight='semibold' style={{ marginTop: '12px' }}>{this.state.time}</Title>\n\t\t\t\t\t\t<Headline weight='semibold' style={{ marginTop: '12px', color: 'white', background: 'linear-gradient(to right, #ed6ea0 0%, #ec8c69 100%)', padding: '4px', display: 'inline-block' }}>{ 'Я умру из-за ' + ( this.state.paralel ? this.state.reason2: this.state.reason ) }</Headline><br/>\n\t\t\t\t\t\t<Button before={<Icon24ImageFilterOutline width={20} height={20} style={{ paddingRight: '4px' }}/>} size='l' style={{ marginTop: '12px', display: this.state.screen && 'none' }} onClick={\n\t\t\t\t\t\t\tasync ()=>{\n\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\tlet resp = await bridge.send('VKWebAppAllowMessagesFromGroup', {group_id: 197419756, key: \"fsdgeruiogj\"});\n\t\t\t\t\t\t\t\t\tawait this.generateRandomTime(!this.state.paralel);\n\t\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\t\tthis.setState({ snackbar:\n\t\t\t\t\t\t\t\t\t\t\t<Snackbar\n\t\t\t\t\t\t\t\t\t\t\t\tlayout='vertical'\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tНеобходимо разрешение на получение сообщений\n\t\t\t\t\t\t\t\t\t\t\t</Snackbar>\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}>{ this.state.paralel ? 'Вернуться' : 'Паралельная вселенная' }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.screen &&\n\t\t\t\t\t\t\t<Headline weight='bold' style={{ position: 'absolute',top: '80%', left: '50%', transform: 'translate(-50%, -50%)', width: '80vw', textAlign: 'center', marginTop: '10vh', color: 'rgb(35, 35, 35)', background: 'linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%)', padding: '4px', display: 'inline-block' }}>Переходи в приложение, если не боишься узнать свою дату смерти!</Headline>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<FixedLayout vertical='bottom' style={{ marginBottom: os === ANDROID ? '36px' : '12px', display: this.state.screen && 'none' }}>\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<Button onClick={async ()=>{\n\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/>, screen: true });\n\t\t\t\t\t\t\t\tawait this.sleep(250);\n\t\t\t\t\t\t\t\thtml2canvas(document.getElementsByClassName('View__panels')[0]).then(async canvas => {\n\t\t\t\t\t\t\t\t\tlet blob = canvas.toDataURL('image/png');\n\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppShowStoryBox', { background_type: 'image', blob, attachment: { url: 'https://vk.com/app7549544', text: 'open', type: 'url' } });\n\t\t\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\t\t\tthis.setState({ popout: null, screen: false });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}} before={<Icon28StoryOutline/>} size='xl' mode='commerce'>Поделиться в истории</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t{this.state.snackbar}\n\t\t\t\t</Panel>\n\t\t\t\t<Panel id='form'>\n\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t<Input top='Сколько Вам лет?' type='number' getRootRef={(ref)=>{ this.input_years = ref; }}/>\n\t\t\t\t\t\t<Select top='Какой Ваш пол?' defaultValue='m'>\n\t\t\t\t\t\t\t<option value='m'>Мужской</option>\n\t\t\t\t\t\t\t<option value='f'>Женский</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Select top='Кто Вы по знаку зодиака?' defaultValue='znak1'>\n\t\t\t\t\t\t\t<option value='znak1'>Овен</option>\n\t\t\t\t\t\t\t<option value='znak2'>Телец</option>\n\t\t\t\t\t\t\t<option value='znak3'>Близнецы</option>\n\t\t\t\t\t\t\t<option value='znak4'>Рак</option>\n\t\t\t\t\t\t\t<option value='znak5'>Лев</option>\n\t\t\t\t\t\t\t<option value='znak6'>Дева</option>\n\t\t\t\t\t\t\t<option value='znak7'>Весы</option>\n\t\t\t\t\t\t\t<option value='znak8'>Скорпион</option>\n\t\t\t\t\t\t\t<option value='znak9'>Змееносец</option>\n\t\t\t\t\t\t\t<option value='znak10'>Стрелец</option>\n\t\t\t\t\t\t\t<option value='znak11'>Козерог</option>\n\t\t\t\t\t\t\t<option value='znak12'>Водолей</option>\n\t\t\t\t\t\t\t<option value='znak13'>Рыбы</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Select top='Вас посещали мысли о суициде?' defaultValue='nn'>\n\t\t\t\t\t\t\t<option value='nn'>Нет</option>\n\t\t\t\t\t\t\t<option value='yy'>Да</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Button disabled={()=> { try{ return this.input_years.value === undefined }catch(e){ return true; } }} size='xl' onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\tawait this.initializeTimer();\n\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\tthis.go('main');\n\t\t\t\t\t\t}}>Узнать дату смерти</Button>\n\t\t\t\t\t</FormLayout>\n\t\t\t\t</Panel>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport bridge from '@vkontakte/vk-bridge';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App className={''} />, document.getElementById('root'));\n"],"sourceRoot":""}