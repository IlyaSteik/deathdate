{"version":3,"sources":["App.js","index.js"],"names":["os","platform","App","props","state","popout","activePanel","time","screen","scheme","paralel","componentDidMount","bind","initializeApp","initializeTimer","go","generateRandomTime","updateTime","bridge","subscribe","a","detail","type","data","undefined","console","log","schemeAttribute","document","createAttribute","value","body","attributes","setNamedItem","setState","supports","send","status_bar_style","action_bar_color","shapes","getElementsByClassName","element","remove","e","error","this","sendPromise","keys","sValues","key","Number","______date2","imgs","setInterval","shape_container","createElement","className","shape","src","random","length","style","left","appendChild","getElementById","i","setProperty","setTimeout","sleep","isParalel","reasons","______reason2","Date","now","getTime","timeDate","rId","reason","toString","timeDate2","______reason1","______date1","number","titles","decCache","Math","min","years","days","hours","minutes","seconds","timeMs","floor","yMs","dMs","hMs","minMs","times","timesText","push","decOfNum","join","panel","ms","Promise","resolve","max","id","height","width","position","top","transform","textAlign","level","weight","backgroundImage","color","lineHeight","padding","display","marginTop","background","before","paddingRight","size","onClick","group_id","snackbar","layout","onClose","vertical","marginBottom","ANDROID","html2canvas","then","canvas","blob","toDataURL","background_type","attachment","url","text","mode","defaultValue","React","Component","ReactDOM","render"],"mappings":"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","file":"static/js/main.dc17c73e.chunk.js","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\nimport eruda from 'eruda';\nimport html2canvas from 'html2canvas';\n\nimport { FormLayout, FormStatus, Snackbar, Select, Input, Div, Panel, Title, Headline, View, FixedLayout, Button, ScreenSpinner, platform, ANDROID } from '@vkontakte/vkui';\n\nimport Icon28StoryOutline from '@vkontakte/icons/dist/28/story_outline';\nimport Icon24ImageFilterOutline from '@vkontakte/icons/dist/24/image_filter_outline';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n}, redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n}, os = platform();\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tpopout: null,\n\t\t\tactivePanel: 'form',\n\t\t\ttime: '',\n\t\t\tscreen: false,\n\t\t\tscheme: 'bright_light',\n\t\t\tparalel: false,\n\t\t};\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.initializeTimer = this.initializeTimer.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t\tthis.generateRandomTime = this.generateRandomTime.bind(this);\n\t\tthis.updateTime = this.updateTime.bind(this);\n\t\t//eruda.init();\n\t}\n\n\tasync componentDidMount () {\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tif(type !== undefined) console.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = false ? data.scheme ? data.scheme : 'bright_light' : 'space_gray';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\tthis.setState({ scheme: schemeAttribute.value });\n\t\t\t\tif(bridge.supports('VKWebAppSetViewSettings')){\n\t\t\t\t\tbridge.send('VKWebAppSetViewSettings', {status_bar_style: 'dark', action_bar_color: 'none'});\n\t\t\t\t}\n\t\t\t}else if (type === 'VKWebAppViewRestore') {\n\t\t\t\tthis.setState({ popout: null, screen: false });\n\t\t\t\tlet shapes = document.getElementsByClassName('bg_shape_container');\n\t\t\t\tfor(let element of shapes){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tconsole.log('delete', element);\n\t\t\t\t\t\telement.remove();\n\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.initializeApp();\n\t}\n\n\tasync initializeApp() {\n\t\ttry{\n\t\t\tlet sValues = await bridge.sendPromise('VKWebAppStorageGet', {keys: ['______date1', '______date2', '______reason1', '______reason2']});\n\t\t\tsValues = sValues.keys;\n\t\t\tlet data = {};\n\t\t\ttry{\n\t\t\t\tfor(let value of sValues){\n\t\t\t\t\tdata[value.key] = Number(value.value);\n\t\t\t\t}\n\t\t\t}catch (e) {\n\t\t\t\tconsole.error('e3', e)\n\t\t\t}\n\t\t\tthis.setState({ data, sValues });\n\n\t\t\tif(data.______date2 !== false && data.______date2 !== 0){\n\t\t\t\tconsole.log('user is not first', data);\n\t\t\t\tawait this.initializeTimer();\n\t\t\t\tthis.go('main');\n\t\t\t}\n\t\t}catch (e) {}\n\n        bridge.send('VKWebAppInit');\n\t}\n\n\tasync initializeTimer() {\n\t\tlet imgs = ['https://image.flaticon.com/icons/svg/2893/2893113.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2893/2893195.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2484/2484569.svg',\n\t\t\t'https://image.flaticon.com/icons/svg/2484/2484597.svg'];\n\t\tlet bgInterval = setInterval(()=>{\n\t\t\ttry{\n\t\t\t\tlet shape_container = document.createElement('div');\n\t\t\t\tshape_container.className = 'bg_shape_container';\n\t\t\t\tlet shape = document.createElement('img');\n\t\t\t\tshape.className = 'bg_shape light_outline';\n\t\t\t\tshape.src = imgs[this.random(0, imgs.length)];\n\t\t\t\tshape.style.left = (this.random(-15, 90)) + 'vw';\n\t\t\t\tshape_container.appendChild(shape);\n\t\t\t\tdocument.getElementById('bg_shapes').appendChild(shape_container);\n\t\t\t\tfor(let i = 0; i < 5; i++){\n\t\t\t\t\tshape.style.setProperty('--offset-x-' + i, this.random(-20, 20) +'vw');\n\t\t\t\t}\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\ttry{\n\t\t\t\t\t\tshape_container.remove();\n\t\t\t\t\t}catch (e) {}\n\t\t\t\t}, 10000);\n\t\t\t}catch (e) {}\n\t\t}, 600);\n\t\tlet generated = await this.generateRandomTime(false);\n\t\tthis.updateTime();\n\t\tawait this.sleep(500);\n\t\treturn true;\n\t}\n\n\tasync generateRandomTime(isParalel){\n\t\tlet reasons = [ ', упав в канализационный люк во время грозы, после перелома позвоночника я захлебнусь от потоков дождевой воды',\n\t\t\t' во время митинга, случайно брошенный камень пробьет мне череп и меня просто не успеют довезти до больницы, так как дороги будут перекрыты',\n\t\t\t' из-за ошибки инструктора, который неправильно уложит стропы моего парашюта',\n\t\t\t' при подъеме на эскалаторе. Резко провалившиеся ступени утянут меня за собой и мои кости перемолет шестернями механизма',\n\t\t\t', поскользнувшись на велодорожке и ударившись о мусорное ведро, которое перебьет мне сонную артерию',\n\t\t\t' от рака яичек',\n\t\t\t' под колесами трамвая, перебегая дорогу и споткнувшись о рельсу',\n\t\t\t' от угарного газа во время пожара в старом заброшенном доме',\n\t\t\t' за рулем каршеринга в состоянии алкогольного опьянения',\n\t\t\t' в результате падения с крыши дачного дома, ремонтируя старую кровлю',\n\t\t\t', пытаясь перелезть забор, запутавшись горлом в колючей проволоке',\n\t\t\t', переплывая водохранилище. Меня утянет на дно водоворотом',\n\t\t\t' в результате укуса клеща, который занесет неизвестную инфекцию',\n\t\t\t' от укуса пчелы, не зная, что у меня была аллергия на их яд',\n\t\t\t' во время футбольного матча, на меня и головы фанатов обвалится кровля стадиона',\n\t\t\t' от удара молнией в мой зонт во время грозы',\n\t\t\t' от сердечного приступа на американских горках',\n\t\t\t' в результате разбойного нападения. От выстрела в бедро я истеку кровью до приезда врачей',\n\t\t\t' в результате прыжка с крыши дома в бассейн, ударившись о бортик головой я потеряю сознание и захлебнусь',\n\t\t\t' во время полета на дельтаплане, оторвавшиеся крепления отсоединят одно из сидений и я рухну на землю',\n\t\t\t' вылетев через отбойники с автострады в результате неудачного обгона',\n\t\t\t' на пешеходном переходе во время грозы, меня придавит рухнувшим светофором',\n\t\t\t' во время спуска со склона, случайно споткнувшись о корень дерева, пролечу 20 метров с переломанной шеей',\n\t\t\t' в резьтате брошенной в мою голову бутылки из окна чей-то квартиры',\n\t\t\t' внутри лифта жилого дома, рухнув с 7-го этажа после обрыва троса',\n\t\t\t' из-за многочисленых переломов в строительном магазине под завалившимися на меня стеллажами с краской',\n\t\t\t' в результате аварии, вылетев через лобовое стекло автомобиля и сломаю шею о бетонный блок',\n\t\t\t', сорвавшись с крыши здания, когда буду делать красивый снимок для инстаграма',\n\t\t\t' от парациантилофилклиникта',\n\t\t\t' от инстивиальной парошемии головного мозга',\n\t\t\t' во время урока химии, случайно загоревшись от газовой горелки',\n\t\t\t' во время правления Путина',\n\t\t\t' от укуса бешеной собаки, так как поздно обращусь в больницу',\n\t\t\t' из-за сорвавшегося домкрата и мне раздавит грудную клетку машиной',\n\t\t\t' на производстве, утянувшая мою куртку церкулярная пила распилит меня на две части',\n\t\t\t' в потасовке около клуба в результате перелома носа произойдет кровоизлияние в мозг',\n\t\t\t' во время взрыва неисправного газового котла',\n\t\t\t' потери крови в результате нападения своры дворовых собак',\n\t\t\t' из-за толпы в метро, случайно сорвавшись с платформы под несущийся поезд',\n\t\t\t' на охоте от случайного выстрела в грудь при встрече с другими охотниками',\n\t\t\t' во время пранка, друзья позовут меня на стрелку, а сами не прийдут, в итоге меня одного изобьют досмерти',\n\t\t\t' во время лучшего минета в жизни от яичного приступа',\n\t\t\t' от голода в лесу, случайно попав в медвежий капкан на охоте',\n\t\t\t' во время 3й мировой войны от радиоактивного излучения',\n\t\t\t' из-за запавшего языка, проснувшись, я задохнусь не сумев вытащить его наружу',\n\t\t\t' от разрыва легких, во время падения со скутера',\n\t\t\t' в открытом море, заснув на надувном матрасе'\n\t\t];\n\t\tif (!this.state.______reason2) {\n\t\t\tlet timeDate = await new Date(Date.now() + this.random(1 * 60 * 60 * 1000, 100 * 365 * 24 * 60 * 60 * 1000)).getTime();\n\t\t\tlet data = this.state.data;\n\t\t\tif(this.state.sValues === undefined || data.______date2 == false) {\n\t\t\t\tlet rId = this.random(0, reasons.length);\n\t\t\t\tawait this.setState({reason: reasons[rId]});\n\t\t\t\tawait this.setState({timeDate});\n\t\t\t\tif(bridge.supports('VKWebAppStorageSet')) {\n\t\t\t\t\ttry{\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: '______date1', value: timeDate.toString()});\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: '______reason1', value: rId.toString()});\n\t\t\t\t\t\tconsole.log('data saved as standart');\n\n\t\t\t\t\t\ttimeDate = await new Date(Date.now() + this.random(1 * 60 * 60 * 1000, 100 * 365 * 24 * 60 * 60 * 1000)).getTime();\n\t\t\t\t\t\trId = this.random(0, reasons.length);\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: '______date2', value: timeDate.toString()});\n\t\t\t\t\t\tawait bridge.sendPromise('VKWebAppStorageSet', {key: '______reason2', value: rId.toString()});\n\t\t\t\t\t\tconsole.log('data saved as paralel');\n\n\t\t\t\t\t\tlet sValues = await bridge.sendPromise('VKWebAppStorageGet', {keys: ['______date1', '______date2', '______reason1', '______reason2']});\n\t\t\t\t\t\tsValues = sValues.keys;\n\t\t\t\t\t\tlet data = {};\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tfor(let value of sValues){\n\t\t\t\t\t\t\t\tdata[value.key] = Number(value.value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\tconsole.error('e3', e)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({ data, sValues });\n\t\t\t\t\t}catch (e) {console.error('e2',e);}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (isParalel) {\n\t\t\t\t\tawait this.setState({______reason2: reasons[data.______reason2]});\n\t\t\t\t\tawait this.setState({timeDate2: data.______date2});\n\t\t\t\t\tconsole.log('data loaded as paralel');\n\t\t\t\t} else {\n\t\t\t\t\tawait this.setState({reason: reasons[data.______reason1]});\n\t\t\t\t\tawait this.setState({timeDate: data.______date1});\n\t\t\t\t\tconsole.log('data loaded as standart');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tawait this.setState({paralel: isParalel});\n\t\treturn true;\n\t}\n\tdecOfNum(number, titles){\n\t\tlet decCache = [],\n\t\t\tdecCases = [2, 0, 1, 1, 1, 2];\n\t\tif(!decCache[number]) decCache[number] = number % 100 > 4 && number % 100 < 20 ? 2 : decCases[Math.min(number % 10, 5)];\n\t\treturn titles[decCache[number]];\n\t}\n\tupdateTime() {\n\t\tsetInterval(()=>{\n\t\t\ttry{\n\t\t\t\tlet timeMs = (this.state.paralel ? this.state.timeDate2 : this.state.timeDate) - Date.now();\n\n\t\t\t\tlet years, days, hours, minutes, seconds;\n\t\t\t\tlet yMs = 1000 * 60 * 60 * 24 * 365,\n\t\t\t\t\tdMs = yMs / 365,\n\t\t\t\t\thMs = dMs / 24,\n\t\t\t\t\tminMs = hMs / 60,\n\t\t\t\t\tsMs = minMs / 60;\n\n\t\t\t\tyears = Math.floor(timeMs / yMs); timeMs -= yMs;\n\t\t\t\tdays = Math.floor(timeMs / dMs) % 365; timeMs -= dMs;\n\t\t\t\thours = Math.floor(timeMs / hMs) % 24; timeMs -= hMs;\n\t\t\t\tminutes = Math.floor(timeMs / minMs) % 60; timeMs -= minMs;\n\t\t\t\tseconds = Math.floor(timeMs / sMs) % 60; timeMs -= sMs;\n\n\t\t\t\tlet times = [ [ years, [ 'год', 'года', 'лет' ] ],\n\t\t\t\t\t\t[ days, ['день', 'дня', 'дней'] ],\n\t\t\t\t\t\t[ hours, ['час', 'часа', 'часов'] ],\n\t\t\t\t\t\t[ minutes, ['минута', 'минуты', 'минут'] ],\n\t\t\t\t\t\t[ seconds, ['секунда', 'секунды', 'секунд'] ]],\n\n\t\t\t\t\ttimesText = [];\n\n\t\t\t\tfor(let i = 0; i < times.length; i++){\n\t\t\t\t\tif (times[i][0] > 0) timesText.push(times[i][0] + ' ' + this.decOfNum(times[i][0], times[i][1]));\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ time: timesText.join(', ') });\n\t\t\t}catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}, 500);\n\t}\n\n\tgo(panel) {\n\t\tthis.setState({activePanel: panel});\n\t}\n\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\trandom(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min) + min);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel} popout={this.state.popout}>\n\t\t\t\t<Panel id='main' style={{ height: '100vh', width: '100vw' }}>\n\t\t\t\t\t<div id='bg_shapes'/>\n\t\t\t\t\t<div style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', width: '80vw', textAlign: 'center' }}>\n\t\t\t\t\t\t<Title level='1' weight='semibold'>Мне осталось <span style={{ backgroundImage: 'linear-gradient(to left, #fc6076 0%, #ff9a44 100%)', color: 'white', lineHeight: '18px', padding: '4px 4px 8px 4px', display: 'inline-block' }}>жить</span></Title>\n\t\t\t\t\t\t<Title level='2' weight='semibold' style={{ marginTop: '12px' }}>{this.state.time}</Title>\n\t\t\t\t\t\t<Headline weight='semibold' style={{ marginTop: '12px', color: 'white', background: 'linear-gradient(to right, #ed6ea0 0%, #ec8c69 100%)', padding: '4px', display: 'inline-block' }}>{ 'Я умру' + ( this.state.paralel ? this.state.______reason2: this.state.reason ) }</Headline><br/>\n\t\t\t\t\t\t<Button before={<Icon24ImageFilterOutline width={20} height={20} style={{ paddingRight: '4px' }}/>} size='l' style={{ marginTop: '12px', display: this.state.screen && 'none' }} onClick={\n\t\t\t\t\t\t\tasync ()=>{\n\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\tlet resp = await bridge.send('VKWebAppAllowMessagesFromGroup', {group_id: 197419756, key: \"fsdgeruiogj\"});\n\t\t\t\t\t\t\t\t\tawait this.generateRandomTime(!this.state.paralel);\n\t\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\t\tthis.setState({ snackbar:\n\t\t\t\t\t\t\t\t\t\t\t<Snackbar\n\t\t\t\t\t\t\t\t\t\t\t\tlayout='vertical'\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tНеобходимо разрешение на получение сообщений\n\t\t\t\t\t\t\t\t\t\t\t</Snackbar>\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}>{ this.state.paralel ? 'Вернуться' : 'Паралельная вселенная' }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.screen &&\n\t\t\t\t\t\t\t<Headline weight='bold' style={{ position: 'absolute',top: '80%', left: '50%', transform: 'translate(-50%, -50%)', width: '80vw', textAlign: 'center', marginTop: '10vh', color: 'rgb(35, 35, 35)', background: 'linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%)', padding: '4px', display: 'inline-block' }}>Переходи в приложение, если не боишься узнать свою дату смерти!</Headline>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<FixedLayout vertical='bottom' style={{ marginBottom: os === ANDROID ? '36px' : '12px', display: this.state.screen && 'none' }}>\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<Button onClick={async ()=>{\n\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/>, screen: true });\n\t\t\t\t\t\t\t\tawait this.sleep(250);\n\t\t\t\t\t\t\t\thtml2canvas(document.getElementsByClassName('View__panels')[0]).then(async canvas => {\n\t\t\t\t\t\t\t\t\tlet blob = canvas.toDataURL('image/png');\n\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppShowStoryBox', { background_type: 'image', blob, attachment: { url: 'https://vk.com/app7549544', text: 'open', type: 'url' } });\n\t\t\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\t\t\tthis.setState({ popout: null, screen: false });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}} before={<Icon28StoryOutline/>} size='xl' mode='commerce'>Поделиться в истории</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t{this.state.snackbar}\n\t\t\t\t</Panel>\n\t\t\t\t<Panel id='form'>\n\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t<Input top='Сколько Вам лет?' type='number' defaultValue={18}/>\n\t\t\t\t\t\t<Select top='Какой Ваш пол?' defaultValue='m'>\n\t\t\t\t\t\t\t<option value='m'>Мужской</option>\n\t\t\t\t\t\t\t<option value='f'>Женский</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Select top='Кто Вы по знаку зодиака?' defaultValue='znak1'>\n\t\t\t\t\t\t\t<option value='znak1'>Овен</option>\n\t\t\t\t\t\t\t<option value='znak2'>Телец</option>\n\t\t\t\t\t\t\t<option value='znak3'>Близнецы</option>\n\t\t\t\t\t\t\t<option value='znak4'>Рак</option>\n\t\t\t\t\t\t\t<option value='znak5'>Лев</option>\n\t\t\t\t\t\t\t<option value='znak6'>Дева</option>\n\t\t\t\t\t\t\t<option value='znak7'>Весы</option>\n\t\t\t\t\t\t\t<option value='znak8'>Скорпион</option>\n\t\t\t\t\t\t\t<option value='znak9'>Змееносец</option>\n\t\t\t\t\t\t\t<option value='znak10'>Стрелец</option>\n\t\t\t\t\t\t\t<option value='znak11'>Козерог</option>\n\t\t\t\t\t\t\t<option value='znak12'>Водолей</option>\n\t\t\t\t\t\t\t<option value='znak13'>Рыбы</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Select top='Вас посещали мысли о суициде?' defaultValue='nn'>\n\t\t\t\t\t\t\t<option value='nn'>Нет</option>\n\t\t\t\t\t\t\t<option value='yy'>Да</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Button size='xl' onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\tawait this.initializeTimer();\n\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\tthis.go('main');\n\t\t\t\t\t\t}}>Узнать дату смерти</Button>\n\t\t\t\t\t</FormLayout>\n\t\t\t\t</Panel>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport bridge from '@vkontakte/vk-bridge';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App className={''} />, document.getElementById('root'));\n"],"sourceRoot":""}